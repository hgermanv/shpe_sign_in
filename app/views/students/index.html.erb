<div class="container-fluid">
<head>
  <h2>Students</h1>
  <%= form_with url: students_path, method: :get, local: true do %>
  <div class="input-group mb-3">
    <%= text_field_tag :query, params[:query], class: "form-control", placeholder: "Search by name, email, or major" %>
    <div class="input-group-append">
      <%= submit_tag "Search", class: "btn btn-secondary" %>
    </div>
  </div>
<% end %>
</head>

<style>
  a {
  color: rgb(109, 109, 109); /* Set text color to black */
  }
  h2 {
    text-align: center;
  }
</style>


<table class="table">
  <thead>
        <tr>
          <th><%= sortable "email", "Email" %></th>
          <th><%= sortable "name", "Name" %></th>
          <th><%= sortable "year", "Year" %></th>
          <th><%= sortable "major", "Major" %></th>
          <th><%= sortable "attendance_points", "Points" %></th>
          <th>Actions</th>
        </tr>
      </thead>
  <tbody>
    <% @students.each do |student| %>
      <% if student %>
        <tr>
          <td><%= student.email %></td>
          <td><%= student.name %></td>
          <td><%= student.year %></td>
          <td><%= student.major %></td>
          <td><%= student.attendance_points %></td>
          <td><%= link_to 'View History', student_attendance_path(student), class: 'btn btn-info' %></td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>
</div>